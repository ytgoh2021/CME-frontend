import {
  require_react
} from "./chunk-JFTBQ7A7.js";
import {
  __toESM
} from "./chunk-AC2VUBZ6.js";

// node_modules/react-credit-cards-2/dist/es/index.js
var import_react = __toESM(require_react());
var r = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
var t = { visa: { niceType: "Visa", type: "visa", patterns: [4], gaps: [4, 8, 12], lengths: [16, 18, 19], code: { name: "CVV", size: 3 } }, mastercard: { niceType: "Mastercard", type: "mastercard", patterns: [[51, 55], [2221, 2229], [223, 229], [23, 26], [270, 271], 2720], gaps: [4, 8, 12], lengths: [16], code: { name: "CVC", size: 3 } }, "american-express": { niceType: "American Express", type: "american-express", patterns: [34, 37], gaps: [4, 10], lengths: [15], code: { name: "CID", size: 4 } }, "diners-club": { niceType: "Diners Club", type: "diners-club", patterns: [[300, 305], 36, 38, 39], gaps: [4, 10], lengths: [14, 16, 19], code: { name: "CVV", size: 3 } }, discover: { niceType: "Discover", type: "discover", patterns: [6011, [644, 649], 65], gaps: [4, 8, 12], lengths: [16, 19], code: { name: "CID", size: 3 } }, jcb: { niceType: "JCB", type: "jcb", patterns: [2131, 1800, [3528, 3589]], gaps: [4, 8, 12], lengths: [16, 17, 18, 19], code: { name: "CVV", size: 3 } }, unionpay: { niceType: "UnionPay", type: "unionpay", patterns: [620, [624, 626], [62100, 62182], [62184, 62187], [62185, 62197], [62200, 62205], [622010, 622999], 622018, [622019, 622999], [62207, 62209], [622126, 622925], [623, 626], 6270, 6272, 6276, [627700, 627779], [627781, 627799], [6282, 6289], 6291, 6292, 810, [8110, 8131], [8132, 8151], [8152, 8163], [8164, 8171]], gaps: [4, 8, 12], lengths: [14, 15, 16, 17, 18, 19], code: { name: "CVN", size: 3 } }, maestro: { niceType: "Maestro", type: "maestro", patterns: [493698, [5e5, 504174], [504176, 506698], [506779, 508999], [56, 59], 63, 67, 6], gaps: [4, 8, 12], lengths: [12, 13, 14, 15, 16, 17, 18, 19], code: { name: "CVC", size: 3 } }, elo: { niceType: "Elo", type: "elo", patterns: [401178, 401179, 438935, 457631, 457632, 431274, 451416, 457393, 504175, [506699, 506778], [509e3, 509999], 627780, 636297, 636368, [650031, 650033], [650035, 650051], [650405, 650439], [650485, 650538], [650541, 650598], [650700, 650718], [650720, 650727], [650901, 650978], [651652, 651679], [655e3, 655019], [655021, 655058]], gaps: [4, 8, 12], lengths: [16], code: { name: "CVE", size: 3 } }, mir: { niceType: "Mir", type: "mir", patterns: [[2200, 2204]], gaps: [4, 8, 12], lengths: [16, 17, 18, 19], code: { name: "CVP2", size: 3 } }, hiper: { niceType: "Hiper", type: "hiper", patterns: [637095, 63737423, 63743358, 637568, 637599, 637609, 637612], gaps: [4, 8, 12], lengths: [16], code: { name: "CVC", size: 3 } }, hipercard: { niceType: "Hipercard", type: "hipercard", patterns: [606282], gaps: [4, 8, 12], lengths: [16], code: { name: "CVC", size: 3 } } };
var n = {};
var a = {};
Object.defineProperty(a, "__esModule", { value: true }), a.clone = void 0, a.clone = function(e2) {
  return e2 ? JSON.parse(JSON.stringify(e2)) : null;
};
var s = {};
Object.defineProperty(s, "__esModule", { value: true }), s.matches = void 0, s.matches = function(e2, r2) {
  return Array.isArray(r2) ? function(e3, r3, t2) {
    var n2 = String(r3).length, a2 = e3.substr(0, n2), s2 = parseInt(a2, 10);
    return r3 = parseInt(String(r3).substr(0, a2.length), 10), t2 = parseInt(String(t2).substr(0, a2.length), 10), s2 >= r3 && s2 <= t2;
  }(e2, r2[0], r2[1]) : function(e3, r3) {
    return (r3 = String(r3)).substring(0, e3.length) === e3.substring(0, r3.length);
  }(e2, r2);
}, Object.defineProperty(n, "__esModule", { value: true }), n.addMatchingCardsToResults = void 0;
var c = a;
var i = s;
n.addMatchingCardsToResults = function(e2, r2, t2) {
  var n2, a2;
  for (n2 = 0; n2 < r2.patterns.length; n2++) {
    var s2 = r2.patterns[n2];
    if (i.matches(e2, s2)) {
      var o2 = c.clone(r2);
      a2 = Array.isArray(s2) ? String(s2[0]).length : String(s2).length, e2.length >= a2 && (o2.matchStrength = a2), t2.push(o2);
      break;
    }
  }
};
var o = {};
Object.defineProperty(o, "__esModule", { value: true }), o.isValidInputType = void 0, o.isValidInputType = function(e2) {
  return "string" == typeof e2 || e2 instanceof String;
};
var l = {};
Object.defineProperty(l, "__esModule", { value: true }), l.findBestMatch = void 0, l.findBestMatch = function(e2) {
  return function(e3) {
    var r2 = e3.filter(function(e4) {
      return e4.matchStrength;
    }).length;
    return r2 > 0 && r2 === e3.length;
  }(e2) ? e2.reduce(function(e3, r2) {
    return e3 ? Number(e3.matchStrength) < Number(r2.matchStrength) ? r2 : e3 : r2;
  }) : null;
};
var u = r && r.__assign || function() {
  return u = Object.assign || function(e2) {
    for (var r2, t2 = 1, n2 = arguments.length; t2 < n2; t2++)
      for (var a2 in r2 = arguments[t2])
        Object.prototype.hasOwnProperty.call(r2, a2) && (e2[a2] = r2[a2]);
    return e2;
  }, u.apply(this, arguments);
};
var d = t;
var p = n;
var m = o;
var f = l;
var v = a;
var g = {};
var h = { VISA: "visa", MASTERCARD: "mastercard", AMERICAN_EXPRESS: "american-express", DINERS_CLUB: "diners-club", DISCOVER: "discover", JCB: "jcb", UNIONPAY: "unionpay", MAESTRO: "maestro", ELO: "elo", MIR: "mir", HIPER: "hiper", HIPERCARD: "hipercard" };
var y = [h.VISA, h.MASTERCARD, h.AMERICAN_EXPRESS, h.DINERS_CLUB, h.DISCOVER, h.JCB, h.UNIONPAY, h.MAESTRO, h.ELO, h.MIR, h.HIPER, h.HIPERCARD];
var _ = v.clone(y);
function b(e2) {
  return g[e2] || d[e2];
}
function C(e2, r2) {
  void 0 === r2 && (r2 = false);
  var t2 = _.indexOf(e2);
  if (!r2 && -1 === t2)
    throw new Error('"' + e2 + '" is not a supported card type.');
  return t2;
}
function E(e2) {
  var r2 = [];
  if (!m.isValidInputType(e2))
    return r2;
  if (0 === e2.length)
    return _.map(function(e3) {
      return v.clone(b(e3));
    });
  _.forEach(function(t3) {
    var n2 = b(t3);
    p.addMatchingCardsToResults(e2, n2, r2);
  });
  var t2 = f.findBestMatch(r2);
  return t2 ? [t2] : r2;
}
E.getTypeInfo = function(e2) {
  return v.clone(b(e2));
}, E.removeCard = function(e2) {
  var r2 = C(e2);
  _.splice(r2, 1);
}, E.addCard = function(e2) {
  var r2 = C(e2.type, true);
  g[e2.type] = e2, -1 === r2 && _.push(e2.type);
}, E.updateCard = function(e2, r2) {
  var t2 = g[e2] || d[e2];
  if (!t2)
    throw new Error('"' + e2 + "\" is not a recognized type. Use `addCard` instead.'");
  if (r2.type && t2.type !== r2.type)
    throw new Error("Cannot overwrite type parameter.");
  var n2 = v.clone(t2);
  n2 = u(u({}, n2), r2), g[n2.type] = n2;
}, E.changeOrder = function(e2, r2) {
  var t2 = C(e2);
  _.splice(t2, 1), _.splice(r2, 0, e2);
}, E.resetModifications = function() {
  _ = v.clone(y), g = {};
}, E.types = h;
var S = E;
var N = { niceType: "Dankort", type: "dankort", patterns: [5019], gaps: [4, 8, 12], lengths: [16], code: { name: "CVC", size: 3 } };
var M = { niceType: "Laser", type: "laser", patterns: [6706, 6771, 6709], gaps: [4, 8, 12], lengths: [16, 19], code: { name: "CVV", size: 3 } };
var R = { niceType: "Visa Electron", type: "visa-electron", patterns: [4026, 417500, 4405, 4508, 4844, 49137], gaps: [4, 8, 12], lengths: [16], code: { name: "CVV", size: 3 } };
var T = { validate: function(e2) {
  var r2, t2, n2 = String(e2).replace(/[\s]/g, ""), a2 = n2.length, s2 = false, c2 = 0;
  if (!/^[0-9]+$/.test(n2))
    return false;
  for (var i2 = a2; i2 > 0; i2--) {
    if (r2 = parseInt(n2.charAt(i2 - 1)), s2) {
      switch (t2 = 2 * r2) {
        case 10:
          t2 = 1;
          break;
        case 12:
          t2 = 3;
          break;
        case 14:
          t2 = 5;
          break;
        case 16:
          t2 = 7;
          break;
        case 18:
          t2 = 9;
      }
      c2 += t2;
    } else
      c2 += r2;
    s2 = !s2;
  }
  return 0 !== c2 && c2 % 10 == 0;
} }.validate;
var I = function(e2) {
  var r2 = S(e2.toString().trim().replace(" ", ""));
  if (1 === r2.length) {
    var t2 = r2.shift();
    return (null == t2 ? void 0 : t2.type) || "unknown";
  }
  return "unknown";
};
var V = function() {
  return S.updateCard(S.types.MAESTRO, { patterns: [493698, [5e3, 5018], [502e3, 506698], [506779, 508999], [56, 59], 63, 67, 6] }), S.updateCard(S.types.HIPERCARD, { patterns: [384100, 384140, 384160, 606282, 637095, 637568] }), S.addCard(N), S.addCard(M), S.addCard(R), Object.values(S.types).concat(["dankort", "laser", "visa-electron"]);
};
var A = { amex: ["amex", "americanexpress", "american-express"], dinersclub: ["diners", "dinersclub", "diners-club"], visaelectron: ["visaelectron", "visa-electron"] };
function O(r2) {
  var t2 = r2.acceptedCards, n2 = void 0 === t2 ? [] : t2, a2 = r2.number, s2 = r2.issuer, c2 = r2.preview, i2 = void 0 !== c2 && c2, o2 = r2.expiry, l2 = r2.cvc, u2 = r2.focused, d2 = r2.locale, p2 = void 0 === d2 ? { valid: "valid thru" } : d2, m2 = r2.name, f2 = r2.placeholders, v2 = void 0 === f2 ? { name: "YOUR NAME HERE" } : f2, g2 = r2.callback, h2 = import_react.default.useState(V()), y2 = h2[0], _2 = h2[1], b2 = import_react.default.useMemo(function() {
    return (null == n2 ? void 0 : n2.length) ? y2.filter(function(e2) {
      return n2.includes(e2);
    }) : y2;
  }, [n2, y2]), C2 = import_react.default.useMemo(function() {
    var e2 = "unknown";
    if (a2) {
      var r3 = I(a2);
      b2.includes(r3) && (e2 = r3);
    }
    var t3 = 16;
    return A.amex.includes(e2) ? t3 = 15 : (null == A ? void 0 : A.dinersclub.includes(e2)) ? t3 = 14 : ["hipercard", "mastercard", "visa"].includes(e2) && (t3 = 19), { issuer: e2, maxLength: t3 };
  }, [a2, b2]), E2 = import_react.default.useMemo(function() {
    return i2 && s2 ? s2.toLowerCase() : C2.issuer;
  }, [C2.issuer, s2, i2]), S2 = import_react.default.useMemo(function() {
    var e2 = i2 ? 19 : C2.maxLength, r3 = "number" == typeof a2 ? a2.toString() : String(a2).replace(/[A-Za-z]| /g, "");
    for (isNaN(parseInt(r3, 10)) && !i2 && (r3 = ""), e2 > 16 && (e2 = r3.length <= 16 ? 16 : e2), r3.length > e2 && (r3 = r3.slice(0, e2)); r3.length < e2; )
      r3 += "•";
    if (A.amex.includes(E2) || A.dinersclub.includes(E2)) {
      var t3 = [0, 4, 10], n3 = [4, 6, 5];
      r3 = "".concat(r3.substr(t3[0], n3[0]), " ").concat(r3.substr(t3[1], n3[1]), " ").concat(r3.substr(t3[2], n3[2]));
    } else if (r3.length > 16) {
      t3 = [0, 4, 8, 12], n3 = [4, 7];
      r3 = "".concat(r3.substr(t3[0], n3[0]), " ").concat(r3.substr(t3[1], n3[0]), " ").concat(r3.substr(t3[2], n3[0]), " ").concat(r3.substr(t3[3], n3[1]));
    } else
      for (var s3 = 1; s3 < e2 / 4; s3++) {
        var c3 = 4 * s3 + (s3 - 1);
        r3 = "".concat(r3.slice(0, c3), " ").concat(r3.slice(c3));
      }
    return r3;
  }, [C2.maxLength, E2, a2, i2]), N2 = import_react.default.useMemo(function() {
    var e2, r3 = "number" == typeof o2 ? o2.toString() : o2, t3 = "", n3 = "";
    for (r3.includes("/") ? (t3 = (e2 = r3.split("/"))[0], n3 = e2[1]) : r3.length && (t3 = r3.substr(0, 2), n3 = r3.substr(2, 6)); t3.length < 2; )
      t3 += "•";
    for (n3.length > 2 && (n3 = n3.substr(2, 4)); n3.length < 2; )
      n3 += "•";
    return "".concat(t3, "/").concat(n3);
  }, [o2]), M2 = import_react.default.useCallback(function(e2) {
    if (e2.length)
      _2(y2.filter(function(r4) {
        return e2.includes(r4);
      }));
    else {
      var r3 = V();
      _2(r3);
    }
  }, [y2]);
  return import_react.default.useEffect(function() {
    S2 !== a2 && "function" == typeof g2 && g2(C2, T(String(a2))), V().toString() !== y2.toString() && M2(n2);
  }, [n2, g2, C2, S2, M2, a2, y2]), import_react.default.createElement("div", { key: "Cards", className: "rccs" }, import_react.default.createElement("div", { className: ["rccs__card", "rccs__card--".concat(E2), "cvc" === u2 && "american-express" !== E2 ? "rccs__card--flipped" : ""].join(" ").trim() }, import_react.default.createElement("div", { className: "rccs__card--front" }, import_react.default.createElement("div", { className: "rccs__card__background" }), import_react.default.createElement("div", { className: "rccs__issuer" }), import_react.default.createElement("div", { className: ["rccs__cvc__front", "cvc" === u2 ? "rccs--focused" : ""].join(" ").trim() }, l2), import_react.default.createElement("div", { className: ["rccs__number", S2.replace(/ /g, "").length > 16 ? "rccs__number--large" : "", "number" === u2 ? "rccs--focused" : "", "•" !== S2.substr(0, 1) ? "rccs--filled" : ""].join(" ").trim() }, S2), import_react.default.createElement("div", { className: ["rccs__name", "name" === u2 ? "rccs--focused" : "", m2 ? "rccs--filled" : ""].join(" ").trim() }, m2 || v2.name), import_react.default.createElement("div", { className: ["rccs__expiry", "expiry" === u2 ? "rccs--focused" : "", "•" !== N2.substr(0, 1) ? "rccs--filled" : ""].join(" ").trim() }, import_react.default.createElement("div", { className: "rccs__expiry__valid" }, p2.valid), import_react.default.createElement("div", { className: "rccs__expiry__value" }, N2)), import_react.default.createElement("div", { className: "rccs__chip" })), import_react.default.createElement("div", { className: "rccs__card--back" }, import_react.default.createElement("div", { className: "rccs__card__background" }), import_react.default.createElement("div", { className: "rccs__stripe" }), import_react.default.createElement("div", { className: "rccs__signature" }), import_react.default.createElement("div", { className: ["rccs__cvc", "cvc" === u2 ? "rccs--focused" : ""].join(" ").trim() }, l2), import_react.default.createElement("div", { className: "rccs__issuer" }))));
}
export {
  O as default
};
//# sourceMappingURL=react-credit-cards-2.js.map
